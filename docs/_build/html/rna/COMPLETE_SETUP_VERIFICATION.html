

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Complete Setup and Workflow Verification &mdash; METAINFORMANT 0.2.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/css/custom.css" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=938c9ccc"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #2980B9" >

          
          
          <a href="../index.html" class="icon icon-home">
            METAINFORMANT
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Modules</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../dna/index.html">DNA: Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html">RNA: Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../protein/index.html">Protein: Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gwas/index.html">GWAS (Genome-Wide Association Studies)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../epigenome/index.html">Epigenome: Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../epigenome/index.html#key-components">Key Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="../epigenome/index.html#integration-with-genomics">Integration with Genomics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../epigenome/index.html#analysis-workflows">Analysis Workflows</a></li>
<li class="toctree-l1"><a class="reference internal" href="../epigenome/index.html#planned-extensions">Planned Extensions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ontology/index.html">Ontology Module Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../phenotype/index.html">Phenotype: Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ecology/index.html">Ecology: Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ecology/index.html#key-components">Key Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ecology/index.html#analysis-workflows">Analysis Workflows</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ecology/index.html#integration-with-other-modules">Integration with Other Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ecology/index.html#planned-extensions">Planned Extensions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../math/index.html">Math: Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ml/index.html">Machine Learning: Biological Data Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../networks/index.html">Networks: Biological Network Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../singlecell/index.html">Single-Cell Genomics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quality/index.html">Quality Control</a></li>
<li class="toctree-l1"><a class="reference internal" href="../visualization/index.html">Visualization: Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simulation/index.html">Simulation: Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../life_events/index.html">Life Events Module</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Development</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../testing.html">Testing</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #2980B9" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">METAINFORMANT</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Complete Setup and Workflow Verification</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/rna/COMPLETE_SETUP_VERIFICATION.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section class="tex2jax_ignore mathjax_ignore" id="complete-setup-and-workflow-verification">
<h1>Complete Setup and Workflow Verification<a class="headerlink" href="#complete-setup-and-workflow-verification" title="Link to this heading"></a></h1>
<p>This document provides a comprehensive verification checklist for the complete end-to-end amalgkit workflow setup and execution.</p>
<section id="pre-execution-verification">
<h2>Pre-Execution Verification ✅<a class="headerlink" href="#pre-execution-verification" title="Link to this heading"></a></h2>
<section id="configuration-files">
<h3>Configuration Files<a class="headerlink" href="#configuration-files" title="Link to this heading"></a></h3>
<ul class="contains-task-list simple">
<li class="task-list-item"><p><input class="task-list-item-checkbox" checked="checked" disabled="disabled" type="checkbox"> <code class="docutils literal notranslate"><span class="pre">amalgkit_pogonomyrmex_barbatus.yaml</span></code> - Loads successfully, 11 steps configured</p></li>
<li class="task-list-item"><p><input class="task-list-item-checkbox" checked="checked" disabled="disabled" type="checkbox"> <code class="docutils literal notranslate"><span class="pre">amalgkit_template.yaml</span></code> - Template loads successfully</p></li>
<li class="task-list-item"><p><input class="task-list-item-checkbox" checked="checked" disabled="disabled" type="checkbox"> <code class="docutils literal notranslate"><span class="pre">amalgkit_test.yaml</span></code> - Test config loads successfully</p></li>
<li class="task-list-item"><p><input class="task-list-item-checkbox" checked="checked" disabled="disabled" type="checkbox"> All paths resolve correctly relative to repo root</p></li>
<li class="task-list-item"><p><input class="task-list-item-checkbox" checked="checked" disabled="disabled" type="checkbox"> Genome configuration validated (accession, FTP URL, files)</p></li>
</ul>
</section>
<section id="environment-setup">
<h3>Environment Setup<a class="headerlink" href="#environment-setup" title="Link to this heading"></a></h3>
<ul class="contains-task-list simple">
<li class="task-list-item"><p><input class="task-list-item-checkbox" checked="checked" disabled="disabled" type="checkbox"> Virtual environment: <code class="docutils literal notranslate"><span class="pre">/tmp/metainformant_venv</span></code> (auto-selected for ext6 filesystem)</p></li>
<li class="task-list-item"><p><input class="task-list-item-checkbox" checked="checked" disabled="disabled" type="checkbox"> metainformant: v0.2.0 installed</p></li>
<li class="task-list-item"><p><input class="task-list-item-checkbox" checked="checked" disabled="disabled" type="checkbox"> amalgkit: v0.12.20 installed</p></li>
<li class="task-list-item"><p><input class="task-list-item-checkbox" checked="checked" disabled="disabled" type="checkbox"> biopython: v1.86 installed (resolved symlink issue)</p></li>
<li class="task-list-item"><p><input class="task-list-item-checkbox" checked="checked" disabled="disabled" type="checkbox"> ncbi-datasets-pylib: v16.6.1 installed (resolved symlink issue)</p></li>
<li class="task-list-item"><p><input class="task-list-item-checkbox" checked="checked" disabled="disabled" type="checkbox"> SRA Toolkit: fasterq-dump 3.0.3 available</p></li>
<li class="task-list-item"><p><input class="task-list-item-checkbox" checked="checked" disabled="disabled" type="checkbox"> kallisto: v0.48.0 available</p></li>
<li class="task-list-item"><p><input class="task-list-item-checkbox" checked="checked" disabled="disabled" type="checkbox"> UV cache: Configured to <code class="docutils literal notranslate"><span class="pre">/tmp/uv-cache</span></code> (avoids symlink issues)</p></li>
</ul>
</section>
<section id="external-drive-issues-resolved">
<h3>External Drive Issues Resolved<a class="headerlink" href="#external-drive-issues-resolved" title="Link to this heading"></a></h3>
<ul class="contains-task-list simple">
<li class="task-list-item"><p><input class="task-list-item-checkbox" checked="checked" disabled="disabled" type="checkbox"> Virtual environment location: Automatic fallback to <code class="docutils literal notranslate"><span class="pre">/tmp/metainformant_venv</span></code></p></li>
<li class="task-list-item"><p><input class="task-list-item-checkbox" checked="checked" disabled="disabled" type="checkbox"> UV cache directory: Automatic use of <code class="docutils literal notranslate"><span class="pre">/tmp/uv-cache</span></code></p></li>
<li class="task-list-item"><p><input class="task-list-item-checkbox" checked="checked" disabled="disabled" type="checkbox"> Symlink errors: Resolved by cache directory configuration</p></li>
<li class="task-list-item"><p><input class="task-list-item-checkbox" checked="checked" disabled="disabled" type="checkbox"> Biopython installation: Fixed with proper cache location</p></li>
<li class="task-list-item"><p><input class="task-list-item-checkbox" checked="checked" disabled="disabled" type="checkbox"> Documentation: Complete guide created in <code class="docutils literal notranslate"><span class="pre">EXTERNAL_DRIVE_SETUP.md</span></code></p></li>
</ul>
</section>
</section>
<section id="execution-verification">
<h2>Execution Verification ✅<a class="headerlink" href="#execution-verification" title="Link to this heading"></a></h2>
<section id="genome-setup-automatic">
<h3>Genome Setup (Automatic)<a class="headerlink" href="#genome-setup-automatic" title="Link to this heading"></a></h3>
<ul class="contains-task-list simple">
<li class="task-list-item"><p><input class="task-list-item-checkbox" checked="checked" disabled="disabled" type="checkbox"> Genome downloaded: 97MB package from NCBI</p></li>
<li class="task-list-item"><p><input class="task-list-item-checkbox" checked="checked" disabled="disabled" type="checkbox"> Transcriptome extracted: <code class="docutils literal notranslate"><span class="pre">Pogonomyrmex_barbatus_transcripts.fa</span></code></p></li>
<li class="task-list-item"><p><input class="task-list-item-checkbox" checked="checked" disabled="disabled" type="checkbox"> Kallisto index built: 567MB index file</p></li>
<li class="task-list-item"><p><input class="task-list-item-checkbox" checked="checked" disabled="disabled" type="checkbox"> Index location: <code class="docutils literal notranslate"><span class="pre">output/amalgkit/pogonomyrmex_barbatus/work/index/Pogonomyrmex_barbatus_transcripts.idx</span></code></p></li>
</ul>
</section>
<section id="workflow-steps">
<h3>Workflow Steps<a class="headerlink" href="#workflow-steps" title="Link to this heading"></a></h3>
<ul class="contains-task-list simple">
<li class="task-list-item"><p><input class="task-list-item-checkbox" checked="checked" disabled="disabled" type="checkbox"> <strong>metadata</strong>: Complete - 84 samples retrieved</p></li>
<li class="task-list-item"><p><input class="task-list-item-checkbox" checked="checked" disabled="disabled" type="checkbox"> <strong>config</strong>: Complete - Config files generated</p></li>
<li class="task-list-item"><p><input class="task-list-item-checkbox" checked="checked" disabled="disabled" type="checkbox"> <strong>select</strong>: Complete - 83 samples selected</p></li>
<li class="task-list-item"><p><input class="task-list-item-checkbox" checked="checked" disabled="disabled" type="checkbox"> <strong>getfastq</strong>: In Progress - 11 parallel workers active</p></li>
<li class="task-list-item"><p><input class="task-list-item-checkbox" disabled="disabled" type="checkbox"> <strong>integrate</strong>: Pending - Will run after getfastq</p></li>
<li class="task-list-item"><p><input class="task-list-item-checkbox" disabled="disabled" type="checkbox"> <strong>quant</strong>: Pending - Will run as downloads complete</p></li>
<li class="task-list-item"><p><input class="task-list-item-checkbox" disabled="disabled" type="checkbox"> <strong>merge</strong>: Pending - Will run after all quantifications</p></li>
<li class="task-list-item"><p><input class="task-list-item-checkbox" disabled="disabled" type="checkbox"> <strong>cstmm</strong>: Pending</p></li>
<li class="task-list-item"><p><input class="task-list-item-checkbox" disabled="disabled" type="checkbox"> <strong>curate</strong>: Pending</p></li>
<li class="task-list-item"><p><input class="task-list-item-checkbox" disabled="disabled" type="checkbox"> <strong>csca</strong>: Pending</p></li>
<li class="task-list-item"><p><input class="task-list-item-checkbox" disabled="disabled" type="checkbox"> <strong>sanity</strong>: Pending</p></li>
</ul>
</section>
<section id="current-status">
<h3>Current Status<a class="headerlink" href="#current-status" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p><strong>Total Samples</strong>: 83</p></li>
<li><p><strong>Downloading</strong>: 11 (parallel workers)</p></li>
<li><p><strong>Queued</strong>: 72</p></li>
<li><p><strong>Quantified</strong>: 0 (downloads in progress)</p></li>
<li><p><strong>Process Status</strong>: 14 active processes (main workflow + download workers)</p></li>
</ul>
</section>
</section>
<section id="output-verification">
<h2>Output Verification<a class="headerlink" href="#output-verification" title="Link to this heading"></a></h2>
<section id="created-files">
<h3>Created Files ✅<a class="headerlink" href="#created-files" title="Link to this heading"></a></h3>
<ul class="contains-task-list simple">
<li class="task-list-item"><p><input class="task-list-item-checkbox" checked="checked" disabled="disabled" type="checkbox"> Genome package: <code class="docutils literal notranslate"><span class="pre">output/amalgkit/pogonomyrmex_barbatus/genome/ncbi_dataset_api.zip</span></code></p></li>
<li class="task-list-item"><p><input class="task-list-item-checkbox" checked="checked" disabled="disabled" type="checkbox"> Transcriptome: <code class="docutils literal notranslate"><span class="pre">output/amalgkit/pogonomyrmex_barbatus/work/Pogonomyrmex_barbatus_transcripts.fa</span></code></p></li>
<li class="task-list-item"><p><input class="task-list-item-checkbox" checked="checked" disabled="disabled" type="checkbox"> Kallisto index: <code class="docutils literal notranslate"><span class="pre">output/amalgkit/pogonomyrmex_barbatus/work/index/Pogonomyrmex_barbatus_transcripts.idx</span></code> (567MB)</p></li>
<li class="task-list-item"><p><input class="task-list-item-checkbox" checked="checked" disabled="disabled" type="checkbox"> Metadata: <code class="docutils literal notranslate"><span class="pre">output/amalgkit/pogonomyrmex_barbatus/work/metadata/metadata.tsv</span></code> (84 samples)</p></li>
<li class="task-list-item"><p><input class="task-list-item-checkbox" checked="checked" disabled="disabled" type="checkbox"> Qualified samples: <code class="docutils literal notranslate"><span class="pre">output/amalgkit/pogonomyrmex_barbatus/work/metadata/pivot_qualified.tsv</span></code></p></li>
<li class="task-list-item"><p><input class="task-list-item-checkbox" checked="checked" disabled="disabled" type="checkbox"> Selected samples: <code class="docutils literal notranslate"><span class="pre">output/amalgkit/pogonomyrmex_barbatus/work/metadata/pivot_selected.tsv</span></code></p></li>
<li class="task-list-item"><p><input class="task-list-item-checkbox" checked="checked" disabled="disabled" type="checkbox"> Config files: <code class="docutils literal notranslate"><span class="pre">output/amalgkit/pogonomyrmex_barbatus/work/config_base/</span></code></p></li>
</ul>
</section>
<section id="pending-files-will-be-created-automatically">
<h3>Pending Files (Will be created automatically)<a class="headerlink" href="#pending-files-will-be-created-automatically" title="Link to this heading"></a></h3>
<ul class="contains-task-list simple">
<li class="task-list-item"><p><input class="task-list-item-checkbox" disabled="disabled" type="checkbox"> Quantification results: <code class="docutils literal notranslate"><span class="pre">output/amalgkit/pogonomyrmex_barbatus/quant/*/abundance.tsv</span></code></p></li>
<li class="task-list-item"><p><input class="task-list-item-checkbox" disabled="disabled" type="checkbox"> Merged matrix: <code class="docutils literal notranslate"><span class="pre">output/amalgkit/pogonomyrmex_barbatus/merged/merged_abundance.tsv</span></code></p></li>
<li class="task-list-item"><p><input class="task-list-item-checkbox" disabled="disabled" type="checkbox"> CSTMM results: <code class="docutils literal notranslate"><span class="pre">output/amalgkit/pogonomyrmex_barbatus/cstmm/</span></code></p></li>
<li class="task-list-item"><p><input class="task-list-item-checkbox" disabled="disabled" type="checkbox"> Curate results: <code class="docutils literal notranslate"><span class="pre">output/amalgkit/pogonomyrmex_barbatus/curate/</span></code></p></li>
<li class="task-list-item"><p><input class="task-list-item-checkbox" disabled="disabled" type="checkbox"> CSCA results: <code class="docutils literal notranslate"><span class="pre">output/amalgkit/pogonomyrmex_barbatus/csca/</span></code></p></li>
<li class="task-list-item"><p><input class="task-list-item-checkbox" disabled="disabled" type="checkbox"> Manifest: <code class="docutils literal notranslate"><span class="pre">output/amalgkit/pogonomyrmex_barbatus/work/amalgkit.manifest.jsonl</span></code></p></li>
</ul>
</section>
</section>
<section id="documentation-created">
<h2>Documentation Created<a class="headerlink" href="#documentation-created" title="Link to this heading"></a></h2>
<section id="new-documentation-files">
<h3>New Documentation Files<a class="headerlink" href="#new-documentation-files" title="Link to this heading"></a></h3>
<ol class="arabic simple">
<li><p><strong><a class="reference internal" href="EXTERNAL_DRIVE_SETUP.html"><span class="std std-doc">EXTERNAL_DRIVE_SETUP.md</span></a></strong> - Comprehensive guide for:</p>
<ul class="simple">
<li><p>External drive and filesystem limitations</p></li>
<li><p>Symlink issues and solutions</p></li>
<li><p>UV cache configuration</p></li>
<li><p>Virtual environment location handling</p></li>
<li><p>Troubleshooting guide</p></li>
</ul>
</li>
<li><p><strong><a class="reference internal" href="WORKFLOW_EXECUTION_SUMMARY.html"><span class="std std-doc">WORKFLOW_EXECUTION_SUMMARY.md</span></a></strong> - Complete execution summary:</p>
<ul class="simple">
<li><p>Pre-execution setup</p></li>
<li><p>Workflow execution details</p></li>
<li><p>Current status</p></li>
<li><p>Expected outputs</p></li>
<li><p>Monitoring commands</p></li>
</ul>
</li>
<li><p><strong><a class="reference internal" href="#"><span class="std std-doc">COMPLETE_SETUP_VERIFICATION.md</span></a></strong> - This file:</p>
<ul class="simple">
<li><p>Verification checklist</p></li>
<li><p>Status tracking</p></li>
<li><p>Completion criteria</p></li>
</ul>
</li>
</ol>
</section>
<section id="updated-documentation">
<h3>Updated Documentation<a class="headerlink" href="#updated-documentation" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p><strong><a class="reference internal" href="GETTING_STARTED.html"><span class="std std-doc">GETTING_STARTED.md</span></a></strong> - Added external drive reference</p></li>
<li><p><strong><a class="reference internal" href="README.html"><span class="std std-doc">README.md</span></a></strong> - Added external drive setup to troubleshooting</p></li>
</ul>
</section>
</section>
<section id="key-solutions-implemented">
<h2>Key Solutions Implemented<a class="headerlink" href="#key-solutions-implemented" title="Link to this heading"></a></h2>
<section id="external-drive-symlink-issues">
<h3>1. External Drive Symlink Issues<a class="headerlink" href="#external-drive-symlink-issues" title="Link to this heading"></a></h3>
<p><strong>Problem</strong>: ext6 filesystem doesn’t support symlinks in <code class="docutils literal notranslate"><span class="pre">output/.uv-cache</span></code></p>
<p><strong>Solution</strong>:</p>
<ul class="simple">
<li><p>Updated <code class="docutils literal notranslate"><span class="pre">_setup_utils.py</span></code> to use <code class="docutils literal notranslate"><span class="pre">/tmp/uv-cache</span></code> for UV cache</p></li>
<li><p>Automatic detection and fallback</p></li>
<li><p>Documented in <code class="docutils literal notranslate"><span class="pre">EXTERNAL_DRIVE_SETUP.md</span></code></p></li>
</ul>
</section>
<section id="biopython-installation">
<h3>2. Biopython Installation<a class="headerlink" href="#biopython-installation" title="Link to this heading"></a></h3>
<p><strong>Problem</strong>: Biopython not available in venv despite being in <code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code></p>
<p><strong>Solution</strong>:</p>
<ul class="simple">
<li><p>Installed using <code class="docutils literal notranslate"><span class="pre">/tmp/uv-cache</span></code> cache location</p></li>
<li><p>Verified in venv: <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">Bio</span> <span class="pre">import</span> <span class="pre">Entrez</span></code> works</p></li>
<li><p>No more warnings in logs</p></li>
</ul>
</section>
<section id="ncbi-datasets-library">
<h3>3. NCBI Datasets Library<a class="headerlink" href="#ncbi-datasets-library" title="Link to this heading"></a></h3>
<p><strong>Problem</strong>: ncbi-datasets-pylib not available</p>
<p><strong>Solution</strong>:</p>
<ul class="simple">
<li><p>Installed using <code class="docutils literal notranslate"><span class="pre">/tmp/uv-cache</span></code> cache location</p></li>
<li><p>Verified in venv: <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">ncbi.datasets</span> <span class="pre">import</span> <span class="pre">GenomeApi</span></code> works</p></li>
<li><p>No more warnings in logs</p></li>
</ul>
</section>
<section id="virtual-environment-location">
<h3>4. Virtual Environment Location<a class="headerlink" href="#virtual-environment-location" title="Link to this heading"></a></h3>
<p><strong>Problem</strong>: <code class="docutils literal notranslate"><span class="pre">.venv</span></code> creation may fail on ext6 filesystems</p>
<p><strong>Solution</strong>:</p>
<ul class="simple">
<li><p>Automatic fallback to <code class="docutils literal notranslate"><span class="pre">/tmp/metainformant_venv</span></code></p></li>
<li><p>Transparent handling in all scripts</p></li>
<li><p>Documented in <code class="docutils literal notranslate"><span class="pre">EXTERNAL_DRIVE_SETUP.md</span></code></p></li>
</ul>
</section>
</section>
<section id="workflow-execution-flow">
<h2>Workflow Execution Flow<a class="headerlink" href="#workflow-execution-flow" title="Link to this heading"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>1. Environment Check
   ├─ Auto-activate venv (/tmp/metainformant_venv)
   ├─ Verify dependencies
   └─ Check amalgkit CLI

2. Configuration Load
   ├─ Load YAML config
   ├─ Resolve paths relative to repo root
   └─ Validate genome config

3. Automatic Genome Setup
   ├─ Check if genome/index exists
   ├─ Download genome (if missing)
   ├─ Extract transcriptome
   └─ Build kallisto index

4. Workflow Steps (Automatic)
   ├─ metadata → Retrieve sample metadata
   ├─ config → Generate config files
   ├─ select → Filter samples
   ├─ getfastq → Download FASTQ (parallel workers)
   ├─ integrate → Integrate FASTQ paths
   ├─ quant → Quantify (sequential, auto-delete FASTQ)
   ├─ merge → Merge expression matrix
   ├─ cstmm → Cross-species normalization
   ├─ curate → Quality control
   ├─ csca → Correlation analysis
   └─ sanity → Final validation
</pre></div>
</div>
</section>
<section id="monitoring-commands">
<h2>Monitoring Commands<a class="headerlink" href="#monitoring-commands" title="Link to this heading"></a></h2>
<section id="check-overall-status">
<h3>Check Overall Status<a class="headerlink" href="#check-overall-status" title="Link to this heading"></a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python3<span class="w"> </span>scripts/rna/run_workflow.py<span class="w"> </span>config/amalgkit/amalgkit_pogonomyrmex_barbatus.yaml<span class="w"> </span>--status<span class="w"> </span>--detailed
</pre></div>
</div>
</section>
<section id="monitor-downloads">
<h3>Monitor Downloads<a class="headerlink" href="#monitor-downloads" title="Link to this heading"></a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ps<span class="w"> </span>aux<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span><span class="s2">&quot;amalgkit getfastq&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>-v<span class="w"> </span>grep<span class="w"> </span><span class="p">|</span><span class="w"> </span>wc<span class="w"> </span>-l
</pre></div>
</div>
</section>
<section id="check-quantification-progress">
<h3>Check Quantification Progress<a class="headerlink" href="#check-quantification-progress" title="Link to this heading"></a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>find<span class="w"> </span>output/amalgkit/pogonomyrmex_barbatus/quant<span class="w"> </span>-name<span class="w"> </span><span class="s2">&quot;abundance.tsv&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>wc<span class="w"> </span>-l
</pre></div>
</div>
</section>
<section id="check-manifest">
<h3>Check Manifest<a class="headerlink" href="#check-manifest" title="Link to this heading"></a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>tail<span class="w"> </span>-f<span class="w"> </span>output/amalgkit/pogonomyrmex_barbatus/work/amalgkit.manifest.jsonl
</pre></div>
</div>
</section>
<section id="verify-genome-setup">
<h3>Verify Genome Setup<a class="headerlink" href="#verify-genome-setup" title="Link to this heading"></a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ls<span class="w"> </span>-lh<span class="w"> </span>output/amalgkit/pogonomyrmex_barbatus/work/index/*.idx
ls<span class="w"> </span>-lh<span class="w"> </span>output/amalgkit/pogonomyrmex_barbatus/work/*.fa
</pre></div>
</div>
</section>
</section>
<section id="completion-criteria">
<h2>Completion Criteria<a class="headerlink" href="#completion-criteria" title="Link to this heading"></a></h2>
<p>The workflow is complete when:</p>
<ol class="arabic simple">
<li><p>✅ All 83 samples downloaded</p></li>
<li><p>✅ All 83 samples quantified</p></li>
<li><p>✅ Expression matrix merged</p></li>
<li><p>✅ All analysis steps completed (cstmm, curate, csca)</p></li>
<li><p>✅ Sanity checks passed</p></li>
<li><p>✅ Manifest file contains all step records</p></li>
</ol>
</section>
<section id="verification-after-completion">
<h2>Verification After Completion<a class="headerlink" href="#verification-after-completion" title="Link to this heading"></a></h2>
<p>Once workflow completes, verify:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Final status check</span>
python3<span class="w"> </span>scripts/rna/run_workflow.py<span class="w"> </span>config/amalgkit/amalgkit_pogonomyrmex_barbatus.yaml<span class="w"> </span>--status<span class="w"> </span>--detailed

<span class="c1"># Verify all outputs</span>
ls<span class="w"> </span>-lh<span class="w"> </span>output/amalgkit/pogonomyrmex_barbatus/merged/merged_abundance.tsv
ls<span class="w"> </span>-d<span class="w"> </span>output/amalgkit/pogonomyrmex_barbatus/curate/
ls<span class="w"> </span>-d<span class="w"> </span>output/amalgkit/pogonomyrmex_barbatus/csca/

<span class="c1"># Check manifest</span>
python3<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;import json; steps = [json.loads(l) for l in open(&#39;output/amalgkit/pogonomyrmex_barbatus/work/amalgkit.manifest.jsonl&#39;)]; print(f&#39;Total steps: {len(steps)}&#39;); print(&#39;Steps:&#39;, [s[&#39;step&#39;] for s in steps])&quot;</span>
</pre></div>
</div>
</section>
<section id="summary">
<h2>Summary<a class="headerlink" href="#summary" title="Link to this heading"></a></h2>
<p>✅ <strong>Configuration</strong>: All validated<br />
✅ <strong>Environment</strong>: All dependencies installed<br />
✅ <strong>External Drive Issues</strong>: All resolved and documented<br />
✅ <strong>Genome Setup</strong>: Automatic and complete<br />
✅ <strong>Workflow Execution</strong>: Running end-to-end<br />
✅ <strong>Documentation</strong>: Comprehensive guides created</p>
<p>The workflow is executing comprehensively and will complete all steps automatically. All methods and issues with external drives are fully documented.</p>
<hr class="docutils" />
<p><em>Verification Date: November 10, 2025</em><br />
<em>Status: Workflow Running - Downloads Active</em><br />
<em>Expected Completion: Automatic - All steps will complete in sequence</em></p>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, METAINFORMANT Contributors.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>