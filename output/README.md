# Output Directory

**STRICT POLICY: AUTO-GENERATED PROGRAM OUTPUT ONLY**

This directory contains outputs from program execution **ONLY**. No documentation, no reports, no summaries, no manually created files.

## What Belongs Here

✅ **Program-Generated Outputs ONLY**:
- Quantification results (TSV, JSON, abundance matrices)
- Downloaded genomic data (FASTA, FASTQ, VCF, GFF)
- Analysis artifacts (plots, statistics, intermediate files)
- Execution logs (timestamped .log files)
- Test artifacts and coverage reports

## What Does NOT Belong Here

❌ **NEVER create these in output/**:
- **Documentation files** (README, reports, summaries, guides) → use `docs/`
- **Status reports** (analysis summaries, reviews, assessments) → use `docs/`
- **Scripts** (*.sh, *.py, *.R) → use `scripts/`
- **Configuration files** → use `config/`
- **Source code** → use `src/`
- **Manually created markdown files** → use `docs/`

## Repository Policy

From `.cursorrules`:
> **output/: All outputs from tests and real runs must go here by default. Treat as ephemeral and reproducible.**
> 
> **Do not write outside output/ unless an explicit user path is provided.**
> 
> **Documentation structure: `docs/<domain>/<topic>.md` - NOT in output/**

## Current Contents

### Active Analysis Outputs

**RNA-seq (amalgkit/)**:
- **C. floridanus**: 269/307 samples quantified (87%)
- **P. barbatus**: 69/83 samples quantified (83%)
- **M. pharaonis**: 91/100 samples quantified (91%)
- **S. invicta**: 307/354 samples quantified (86%)
- **Total**: 736/844 samples processed (87%)

**GWAS (gwas/)**:
- **P. barbatus**: Synthetic GWAS analysis complete (50K variants, 7 traits)
- **A. mellifera**: Configuration and genome data ready

### File Management

**What's Here**:
- Quantification results: `*.tsv`, `*.json` abundance files
- Downloaded genomes: FASTA files, annotations
- Analysis plots: PNG visualizations
- Execution logs: Timestamped workflow logs
- Work directories: Intermediate files, indices

**What's Been Removed** (per policy):
- ❌ All markdown reports/summaries (moved to `docs/` or deleted)
- ❌ All manually created documentation files
- ❌ All status reports and assessments

### Auto-Generated vs Manual Files

**Keep** (auto-generated by programs):
- `amalgkit.report.md` - Generated by amalgkit CLI tool ✅
- `ncbi_dataset_api_extracted/README.md` - Generated by NCBI dataset tool ✅
- `.log` files - Generated by workflow execution ✅
- `.json`, `.tsv`, `.png` - Program outputs ✅

**Remove** (manually created):
- Any markdown files written by developers
- Status reports, summaries, reviews
- Documentation of any kind

## Usage Guidelines

### For Developers

```python
# Correct: Write program output to output/
from metainformant.core import io, paths

output_path = paths.expand_path("output/analysis/results.json")
io.dump_json(results, output_path)

# Correct: Write documentation to docs/
docs_path = paths.expand_path("docs/rna/analysis_methods.md")
# ...write documentation...
```

### For AI Assistants

**NEVER**:
- Create `.md` files in `output/` (except auto-generated by external tools)
- Write status reports or summaries to `output/`
- Store documentation of any kind in `output/`

**ALWAYS**:
- Write documentation to `docs/<domain>/`
- Keep `output/` for program-generated files only
- Check if creating a file manually → it doesn't belong in `output/`

## Cleanup Policy

- **Auto-clean**: Old logs after workflow completion
- **Reproducible**: All outputs can be regenerated from source data
- **Ephemeral**: Files may be deleted during repository maintenance
- **Batch processing**: Download→process→delete cycles for disk management

## Integration

All output writing uses:
- `metainformant.core.io` - File I/O with gzip support
- `metainformant.core.paths` - Path handling and validation
- `metainformant.core.cache` - Temporary caching under output/

See:
- [`docs/core/paths.md`](../docs/core/paths.md) - Path utilities
- [`docs/core/io.md`](../docs/core/io.md) - I/O operations
- [`.cursorrules`](../.cursorrules) - Complete output policies

---

**Remember**: If you're creating a file manually, it belongs in `docs/`, not `output/`.
