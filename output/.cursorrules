# Output Directory Rules

## STRICT POLICY: AUTO-GENERATED FILES ONLY

**Purpose**: This directory is exclusively for program-generated output files.

## What Belongs Here ✅

- Program-generated data files (JSON, TSV, CSV, HDF5)
- Downloaded genomic data (FASTA, FASTQ, VCF, GFF, BAM)
- Analysis artifacts (plots, statistics, matrices)
- Execution logs (timestamped .log files)
- Test artifacts and coverage reports
- Intermediate files from pipelines
- Cache files generated by programs

## What Does NOT Belong Here ❌

- **Markdown documentation files** → use `docs/`
- **Status reports or summaries** → use `docs/`
- **Analysis writeups** → use `docs/`
- **Test reports** (TEST_REPORT.md, FINAL_TEST_REPORT.md, etc.) → use `docs/` or delete after review
- **Review documents** (REVIEW_*.md, SUMMARY.md) → use `docs/` or delete after review
- **Planning documents** (PLANNING.md, new_modules_planning.md) → use `docs/` or delete after review
- **Test scripts** (test_*.py) → use `tests/` or `scripts/`
- **README files** (except auto-generated by external tools) → use `docs/`
- **Scripts** → use `scripts/`
- **Configuration files** → use `config/`
- **Manually created files of any kind** → use appropriate directory

## Rules for AI Agents

### NEVER Do This

```python
# ❌ WRONG - Creating documentation in output/
with open("output/ANALYSIS_REPORT.md", "w") as f:
    f.write("# Analysis Results\n...")

# ❌ WRONG - Creating status files in output/
with open("output/WORKFLOW_STATUS.md", "w") as f:
    f.write("## Status Update\n...")

# ❌ WRONG - Creating summaries in output/
with open("output/SUMMARY.md", "w") as f:
    f.write("# Summary of Findings\n...")

# ❌ WRONG - Creating test reports in output/
with open("output/FINAL_TEST_REPORT.md", "w") as f:
    f.write("# Test Results\n...")

# ❌ WRONG - Creating review documents in output/
with open("output/REVIEW_2025.md", "w") as f:
    f.write("# Repository Review\n...")

# ❌ WRONG - Creating planning documents in output/
with open("output/new_modules_planning.md", "w") as f:
    f.write("# Planning Document\n...")

# ❌ WRONG - Creating test scripts in output/
with open("output/test_progress_tracking.py", "w") as f:
    f.write("#!/usr/bin/env python3\n...")
```

### ALWAYS Do This

```python
# ✅ CORRECT - Program output to output/
import json
with open("output/analysis/results.json", "w") as f:
    json.dump(results, f)

# ✅ CORRECT - Documentation to docs/
with open("docs/rna/analysis_methods.md", "w") as f:
    f.write("# Analysis Methods\n...")

# ✅ CORRECT - Using core utilities
from metainformant.core import io
io.dump_json(data, "output/analysis/data.json")
```

## File Creation Test

**Before creating any file in output/, ask:**
1. Is this file auto-generated by a program? → ✅ Okay
2. Is this file manually created? → ❌ Use `docs/` instead
3. Is this documentation or a report? → ❌ Use `docs/` instead
4. Is this a status update? → ❌ Use `docs/` instead
5. Is this a test script? → ❌ Use `tests/` or `scripts/` instead
6. Is this a review or summary document? → ❌ Use `docs/` or delete after review
7. Is this a planning document? → ❌ Use `docs/` or delete after review
8. Does the filename contain "REPORT", "SUMMARY", "REVIEW", "PLANNING", "TEST", or "ANALYSIS"? → ❌ Use `docs/` instead

**Simple rule**: If you're writing the content yourself, it doesn't belong in `output/`. Only program-execution outputs belong here.

## Exception: External Tool Output

Files generated by external CLI tools are acceptable:
- `amalgkit.report.md` - Generated by amalgkit CLI
- `ncbi_dataset_api_extracted/README.md` - Generated by NCBI dataset tool
- Other tool-generated documentation files

These are **auto-generated by external programs**, not manually created.

## Enforcement

This directory has the following `.cursorrules` to enforce the policy:
1. Only auto-generated files belong here
2. No manually created documentation or reports
3. All documentation goes to `docs/<domain>/`
4. Keep files ephemeral and reproducible

## Compliance Check

Before committing, verify:
- [ ] No manually created `.md` files (except auto-generated by external tools)
- [ ] No documentation or status reports
- [ ] No test scripts (test_*.py) in output/
- [ ] No review, summary, or planning documents
- [ ] All files are program-execution outputs
- [ ] Documentation is in `docs/` not `output/`
- [ ] Test scripts are in `tests/` or `scripts/` not `output/`

## Pre-Commit Reminder

**AI Agents**: Before creating any file in `output/`, verify it is:
- Generated by program execution (not manually written)
- Not a markdown documentation file
- Not a test script
- Not a review, summary, or planning document
- Not a status report

If any of these apply, place the file in `docs/`, `tests/`, or `scripts/` instead.

---

**Remember**: `output/` is for program execution outputs only. Everything else belongs elsewhere.

